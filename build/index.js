!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("wp"),require("React"));else if("function"==typeof define&&define.amd)define(["wp","React"],t);else{var n="object"==typeof exports?t(require("wp"),require("React")):t(e.wp,e.React);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"name",function(){return h}),n.d(o,"settings",function(){return k});var c={};n.r(c),n.d(c,"name",function(){return I}),n.d(c,"settings",function(){return w});var r={};n.r(r),n.d(r,"name",function(){return j}),n.d(r,"settings",function(){return T});var l=n(0),a=n(1),s=n.n(a),u=(n(3),l.i18n.__),i=l.components.PanelBody,m=l.components.RangeControl,d=l.components.ToggleControl,p=l.editor.InnerBlocks,f=l.editor.InspectorControls,g=l.data.select,b=l.data.dispatch,h="content-in-columns",k={title:u("Content in columns"),description:u("Block which contains section with 1-4 columns that could have image, heading, description and button"),icon:"cover-image",attributes:{columns:{type:"number",default:3},showImages:{type:"boolean",default:!0},circledImages:{type:"boolean",default:!0},showButtons:{type:"boolean",default:!0}},getTemplate:function(e){return[["cloudblocks/content-in-columns--columns",{columns:e.columns}]]},updateInnerBlocks:function(e,t){var n=t.columns,o=t.showImages,c=t.circledImages,r=t.showButtons,l=g("core/editor").getBlocksByClientId(e)[0];if(l&&l.innerBlocks){var a=l.innerBlocks[1];a&&a.innerBlocks&&(b("core/editor").updateBlockAttributes(a.clientId,{columns:n}),a.innerBlocks.forEach(function(e){b("core/editor").updateBlockAttributes(e.clientId,{showImages:o,circledImages:c,showButtons:r})}))}},edit:function(e){var t=e.attributes,n=e.className,o=e.setAttributes,c=e.clientId,r=t.columns,l=t.showImages,a=t.circledImages,g=t.showButtons;return k.updateInnerBlocks(c,t),[s.a.createElement("section",{className:""+n},s.a.createElement(p,{template:k.getTemplate(t),templateLock:"all"})),s.a.createElement(f,null,s.a.createElement(i,{title:u("Block Settings")},s.a.createElement(m,{label:u("Columns count"),value:r,onChange:function(e){o({columns:e}),setTimeout(function(){b("core/editor").selectBlock(c)},50)},min:1,max:4,step:1}),s.a.createElement(d,{label:u("Show images"),checked:!!l,onChange:function(){return o({showImages:!l})}}),l&&s.a.createElement(d,{label:u("Circled images"),checked:!!a,onChange:function(){return o({circledImages:!a})}}),s.a.createElement(d,{label:u("Show buttons"),checked:!!g,onChange:function(){return o({showButtons:!g})}})))]},save:function(e){var t=e.className;return s.a.createElement("section",{className:""+t},s.a.createElement(p.Content,null))}},v=l.i18n.__,B=l.editor.InnerBlocks,y=["cloudblocks/content-in-columns--column"],I="content-in-columns--columns",w={title:v("Columns"),description:v("Container for columns"),parent:["cloudblocks/content-in-columns"],attributes:{columns:{type:"number"}},getColumnsTemplate:function(e){for(var t=[],n=0;n<e;n++)t.push(["cloudblocks/content-in-columns--column"]);return t},edit:function(e){var t=e.attributes,n=e.className,o=t.columns;return s.a.createElement("div",{className:n+" columns"},s.a.createElement(B,{template:w.getColumnsTemplate(o),templateLock:"all",allowedBlocks:y}))},save:function(e){var t=e.className;return s.a.createElement("div",{className:t+" columns"},s.a.createElement(B.Content,null))}},C=l.i18n.__,_=l.editor.InnerBlocks,E=l.data.select,x=l.data.dispatch,N=["core/heading","core/paragraph","core/button"],j="content-in-columns--column",T={title:C("Column"),description:C("A single column within a columns block."),icon:"columns",parent:["cloudblocks/content-in-columns--columns"],attributes:{showImages:{type:"boolean"},circledImages:{type:"boolean"},showButtons:{type:"boolean"}},getTemplate:function(e){var t=e.showImages,n=e.circledImages,o=e.showButtons,c=[];return t&&c.push(["core/image",{className:n?"column__image circled":"column__image"}]),c.push(["core/heading",{placeholder:"Column title",content:"Column Title Here",level:3}],["core/paragraph",{placeholder:"Column description",content:"Some random text here. Make sure to replace this.",className:"column__description"}]),o&&c.push(["core/button",{text:"Learn more",url:"https://github.com/front/gutenberg-js",className:"column__cta"}]),c},updateInnerBlocks:function(e,t){var n=t.circledImages,o=E("core/editor").getBlocksByClientId(e)[0];if(o){var c=o.innerBlocks[0];c&&x("core/editor").updateBlockAttributes(c.clientId,{className:n?"column__image circled":"column__image"})}},edit:function(e){var t=e.attributes,n=e.clientId;return T.updateInnerBlocks(n,t),s.a.createElement("div",{className:"column"},s.a.createElement(_,{template:T.getTemplate(t),templateLock:"all",allowedBlocks:N}))},save:function(){return s.a.createElement("div",{className:"column"},s.a.createElement(_.Content,null))}};n.d(t,"registerBlocks",function(){return M});var A=l.blocks.registerBlockType,S=l.data.dispatch,O=l.data.select,P={slug:"cloudblocks",title:(0,l.i18n.__)("Cloud Blocks")};function M(){var e=O("core/blocks").getCategories().filter(function(e){return e.slug!==P.slug});S("core/blocks").setCategories([P].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)));for(var t=[o,c,r],n=0;n<t.length;n++){var l=t[n],a=l.name,s=l.settings;A(P.slug+"/"+a,Object.assign({category:P.slug},s))}}M()},function(e,t){}])});